# GlamAR React Demo

GlamAR React Demo provides quick start to integrate GlamAR SDK in react platform.

## Running Locally

## Prerequisites

Make sure you have installed the following prerequisites:

- **npm**: Node package manager.

You can install **npm** with Node.js. If you don't have it installed yet, you can follow the instructions [here](https://nodejs.org/).

## Setup Local SSL Certificate

1. Install **mkcert**. Refer to this link to install it.

2. Use mkcert to generate a locally-trusted development certificate. Run the following command:

   ```bash
   mkcert -key-file key.pem -cert-file cert.pem â€œerasez0.deâ€
   ```

3. Create a folder named **ssl** at the root level of the repository.

4. Copy the two `.pem` files (key.pem and cert.pem) generated by the above command into the **ssl** folder.

5. Bind localhost (or 127.0.0.1) to the host name **local.pixelbinz0.de**. To do this:

   Open and edit `/etc/hosts`.

   Insert the following lines:

   ```bash
   127.0.0.1       local.pixelbinz0.de
   127.0.0.1       local.sdk.glamar.io
   ```

To run the GlamAR Web SDK locally, follow the steps below:

Open and edit `/etc/hosts`.

Insert the following lines:

```bash
127.0.0.1       local.pixelbinz0.de
127.0.0.1       local.sdk.glamar.io
```

6. Login to https://console.pixelbin.io/

7. Goto GlamAR > SDK Config > Allowed Domains and add https://local.pixelbinz0.de

To run the GlamAR React Demo locally, follow the steps below:

1. Clone the repository for the GlamAR React Demo and install the dependencies:

```sh
npm install
```

2. Run the development server:

```sh
npm start
```

3. Open the project in your browser:

- With certificate: [https://local.pixelbinz0.de:9090](https://local.pixelbinz0.de:9090)

## Project Structure

```
Root
â”œâ”€â”€ index.html                             # HTML template used by HtmlWebpackPlugin
â”‚
â”œâ”€â”€ ssl/
â”‚   â”œâ”€â”€ key.pem                            # Local dev SSL key
â”‚   â””â”€â”€ cert.pem                           # Local dev SSL certificate
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.jsx                          # Entry point, renders <App />
â”‚   â”œâ”€â”€ App.jsx                            # Root component handling access token flow
â”‚   â”œâ”€â”€ GlamARDemo.jsx                     # Component that initializes GlamAR SDK and buttons
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â””â”€â”€ app.css                        # All global CSS styles
â”‚
â”œâ”€â”€ .babelrc                               # Babel config (if using JSON format)
â”œâ”€â”€ babel.config.js                        # Babel config (if using JS format)
â”œâ”€â”€ webpack.config.js                      # Webpack config with SSL and dev server
â”œâ”€â”€ package.json                           # Project dependencies and scripts
â”œâ”€â”€ README.md                              # Setup instructions, SDK integration guide

```

## ðŸ“¡ API Reference

| Method                             | Description                                      |
| ---------------------------------- | ------------------------------------------------ |
| `GlamAr.init(config)`              | Initializes the SDK                              |
| `GlamAr.applySku(skuId)`           | Applies a specific SKU                           |
| `GlamAr.applyByCategory(category)` | Applies the first SKU from a category            |
| `GlamAr.snapshot()`                | Captures a snapshot (fires `photo-loaded` event) |
| `GlamAr.reset()`                   | Clears current applied items                     |
| `GlamAr.open()` / `close()`        | Opens or closes the live preview mode            |
| `GlamAr.on(event, cb)`             | Registers event listeners                        |

---

## ðŸ”” Supported Events

| Event                  | Description                  |
| ---------------------- | ---------------------------- |
| `loaded`               | SDK initialized              |
| `opened`, `closed`     | Widget opened or closed      |
| `photo-loaded`         | Snapshot captured            |
| `camera-opened`        | Camera successfully accessed |
| `camera-closed`        | Camera stopped               |
| `camera-failed`        | Error accessing camera       |
| `subscription-invalid` | API key expired or invalid   |
| `error`                | Any error from SDK           |

---

Detailed documentation available at https://www.glamar.io/docs/
